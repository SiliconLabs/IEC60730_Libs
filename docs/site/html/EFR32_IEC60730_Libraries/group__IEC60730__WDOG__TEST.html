<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IEC60730 Library: Watchdog Check</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IEC60730 Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Watchdog Check<div class="ingroups"><a class="el" href="group__efr32__iec60730.html">EFR32 IEC60730 Library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Monitors CPU execution.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsl__iec60730__watchdog__t.html">sl_iec60730_watchdog_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Watchdog component configuration structure.  <a href="structsl__iec60730__watchdog__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf94a6e688a6df1e29b8199e94dc068b0"><td class="memItemLeft" align="right" valign="top"><a id="gaf94a6e688a6df1e29b8199e94dc068b0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gaf94a6e688a6df1e29b8199e94dc068b0">SL_IEC60730_WDOGINST_NUMB</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:gaf94a6e688a6df1e29b8199e94dc068b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default configuration number of enabled watchdog. <br /></td></tr>
<tr class="separator:gaf94a6e688a6df1e29b8199e94dc068b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c5976b545d7f922e979f6120d12e1b9"><td class="memItemLeft" align="right" valign="top"><a id="ga1c5976b545d7f922e979f6120d12e1b9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga1c5976b545d7f922e979f6120d12e1b9">SL_IEC60730_WDOG_WAIT_TIMEOUT</a>&#160;&#160;&#160;(uint32_t) 0x0000FFFFUL</td></tr>
<tr class="memdesc:ga1c5976b545d7f922e979f6120d12e1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout time to wait for wachdog to reset. <br /></td></tr>
<tr class="separator:ga1c5976b545d7f922e979f6120d12e1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafeca59078e5fe3dd9f242d596f355833"><td class="memItemLeft" align="right" valign="top"><a id="gafeca59078e5fe3dd9f242d596f355833"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gafeca59078e5fe3dd9f242d596f355833">SL_IEC60730_WDOG_INST</a>(n)&#160;&#160;&#160;WDOG##n</td></tr>
<tr class="memdesc:gafeca59078e5fe3dd9f242d596f355833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define gets the default value of watchdog(n). <br /></td></tr>
<tr class="separator:gafeca59078e5fe3dd9f242d596f355833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga041a89d8894e0d74f0c6414f15781ebb"><td class="memItemLeft" align="right" valign="top"><a id="ga041a89d8894e0d74f0c6414f15781ebb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga041a89d8894e0d74f0c6414f15781ebb">SL_IEC60730_RST</a>&#160;&#160;&#160;RMU</td></tr>
<tr class="memdesc:ga041a89d8894e0d74f0c6414f15781ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hardware manages the reset cause of the device. With series 2 is <b>EMU</b>. <br /></td></tr>
<tr class="separator:ga041a89d8894e0d74f0c6414f15781ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8514af5a6ce455894359876a1b603705"><td class="memItemLeft" align="right" valign="top"><a id="ga8514af5a6ce455894359876a1b603705"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga8514af5a6ce455894359876a1b603705">SL_IEC60730_RSTCAUSE_POR</a>&#160;&#160;&#160;RMU_RSTCAUSE_PORST</td></tr>
<tr class="memdesc:ga8514af5a6ce455894359876a1b603705"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reset cause of the device is power on reset. <br /></td></tr>
<tr class="separator:ga8514af5a6ce455894359876a1b603705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccfdb7e9742c8c70014f6173fea4f8e5"><td class="memItemLeft" align="right" valign="top"><a id="gaccfdb7e9742c8c70014f6173fea4f8e5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gaccfdb7e9742c8c70014f6173fea4f8e5">SL_IEC60730_RSTCAUSE_EM4</a>&#160;&#160;&#160;RMU_RSTCAUSE_EM4RST</td></tr>
<tr class="memdesc:gaccfdb7e9742c8c70014f6173fea4f8e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reset cause of the device is em4 reset. <br /></td></tr>
<tr class="separator:gaccfdb7e9742c8c70014f6173fea4f8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13452a574dd28f6dac31567e86f35c9a"><td class="memItemLeft" align="right" valign="top"><a id="ga13452a574dd28f6dac31567e86f35c9a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga13452a574dd28f6dac31567e86f35c9a">SL_IEC60730_RSTCAUSE_WDOG0</a>&#160;&#160;&#160;RMU_RSTCAUSE_WDOGRST</td></tr>
<tr class="memdesc:ga13452a574dd28f6dac31567e86f35c9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reset cause of the device is watchdog reset. <br /></td></tr>
<tr class="separator:ga13452a574dd28f6dac31567e86f35c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7636753a021299d55ca6b8ba27e01e34"><td class="memItemLeft" align="right" valign="top"><a id="ga7636753a021299d55ca6b8ba27e01e34"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga7636753a021299d55ca6b8ba27e01e34">SL_IEC60730_RSTCAUSE_WDOG1</a>&#160;&#160;&#160;RMU_RSTCAUSE_WDOGRST</td></tr>
<tr class="memdesc:ga7636753a021299d55ca6b8ba27e01e34"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reset cause of the device is watchdog reset. <br /></td></tr>
<tr class="separator:ga7636753a021299d55ca6b8ba27e01e34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf63bb8819fcc2334ab4c0e3ae2e413c3"><td class="memItemLeft" align="right" valign="top"><a id="gaf63bb8819fcc2334ab4c0e3ae2e413c3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gaf63bb8819fcc2334ab4c0e3ae2e413c3">SL_IEC60730_RSTCAUSES_CLEAR</a>()</td></tr>
<tr class="memdesc:gaf63bb8819fcc2334ab4c0e3ae2e413c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function macro clear hardware reset cause bit <a class="el" href="group__IEC60730__WDOG__TEST.html#ga041a89d8894e0d74f0c6414f15781ebb" title="Hardware manages the reset cause of the device. With series 2 is EMU.">SL_IEC60730_RST</a>. <br /></td></tr>
<tr class="separator:gaf63bb8819fcc2334ab4c0e3ae2e413c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga423c20f187052a95b570a5569b477125"><td class="memItemLeft" align="right" valign="top"><a id="ga423c20f187052a95b570a5569b477125"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga423c20f187052a95b570a5569b477125">SL_IEC60730_RSTCAUSE</a>&#160;&#160;&#160;(<a class="el" href="group__IEC60730__WDOG__TEST.html#ga041a89d8894e0d74f0c6414f15781ebb">SL_IEC60730_RST</a>-&gt;RSTCAUSE)</td></tr>
<tr class="memdesc:ga423c20f187052a95b570a5569b477125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable bit flag clear causes reset. <br /></td></tr>
<tr class="separator:ga423c20f187052a95b570a5569b477125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga423c20f187052a95b570a5569b477125"><td class="memItemLeft" align="right" valign="top"><a id="ga423c20f187052a95b570a5569b477125"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga423c20f187052a95b570a5569b477125">SL_IEC60730_RSTCAUSE</a>&#160;&#160;&#160;(<a class="el" href="group__IEC60730__WDOG__TEST.html#ga041a89d8894e0d74f0c6414f15781ebb">SL_IEC60730_RST</a>-&gt;RSTCAUSE)</td></tr>
<tr class="memdesc:ga423c20f187052a95b570a5569b477125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable bit flag clear causes reset. <br /></td></tr>
<tr class="separator:ga423c20f187052a95b570a5569b477125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga624ad554f4d67ee9aef0f6f43fe4294d"><td class="memItemLeft" align="right" valign="top"><a id="ga624ad554f4d67ee9aef0f6f43fe4294d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SL_IEC60730_RST_POR</b>&#160;&#160;&#160;(<a class="el" href="group__IEC60730__WDOG__TEST.html#ga423c20f187052a95b570a5569b477125">SL_IEC60730_RSTCAUSE</a> &amp; <a class="el" href="group__IEC60730__WDOG__TEST.html#ga8514af5a6ce455894359876a1b603705">SL_IEC60730_RSTCAUSE_POR</a>)</td></tr>
<tr class="separator:ga624ad554f4d67ee9aef0f6f43fe4294d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f63744733f96ae50b23258ae57c4726"><td class="memItemLeft" align="right" valign="top"><a id="ga7f63744733f96ae50b23258ae57c4726"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SL_IEC60730_RST_EM4</b>&#160;&#160;&#160;(<a class="el" href="group__IEC60730__WDOG__TEST.html#ga423c20f187052a95b570a5569b477125">SL_IEC60730_RSTCAUSE</a> &amp; <a class="el" href="group__IEC60730__WDOG__TEST.html#gaccfdb7e9742c8c70014f6173fea4f8e5">SL_IEC60730_RSTCAUSE_EM4</a>)</td></tr>
<tr class="separator:ga7f63744733f96ae50b23258ae57c4726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59c43648a16593e032e22ebe3e886667"><td class="memItemLeft" align="right" valign="top"><a id="ga59c43648a16593e032e22ebe3e886667"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SL_IEC60730_RST_WDOG0</b>&#160;&#160;&#160;(<a class="el" href="group__IEC60730__WDOG__TEST.html#ga423c20f187052a95b570a5569b477125">SL_IEC60730_RSTCAUSE</a> &amp; <a class="el" href="group__IEC60730__WDOG__TEST.html#ga13452a574dd28f6dac31567e86f35c9a">SL_IEC60730_RSTCAUSE_WDOG0</a>)</td></tr>
<tr class="separator:ga59c43648a16593e032e22ebe3e886667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf43b8e65a2bf41d5829721705e824217"><td class="memItemLeft" align="right" valign="top"><a id="gaf43b8e65a2bf41d5829721705e824217"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SL_IEC60730_RST_WDOG1</b>&#160;&#160;&#160;(<a class="el" href="group__IEC60730__WDOG__TEST.html#ga423c20f187052a95b570a5569b477125">SL_IEC60730_RSTCAUSE</a> &amp; <a class="el" href="group__IEC60730__WDOG__TEST.html#ga7636753a021299d55ca6b8ba27e01e34">SL_IEC60730_RSTCAUSE_WDOG1</a>)</td></tr>
<tr class="separator:gaf43b8e65a2bf41d5829721705e824217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70292f9022932d1c8b862c9861224816"><td class="memItemLeft" align="right" valign="top"><a id="ga70292f9022932d1c8b862c9861224816"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SL_IEC60730_RST_WDOGS</b>&#160;&#160;&#160;(SL_IEC60730_RST_WDOG0 || SL_IEC60730_RST_WDOG1)</td></tr>
<tr class="separator:ga70292f9022932d1c8b862c9861224816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadeb55655269df8be713e86add9406510"><td class="memItemLeft" align="right" valign="top"><a id="gadeb55655269df8be713e86add9406510"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gadeb55655269df8be713e86add9406510">SL_IEC60730_BURAM_IDX</a>&#160;&#160;&#160;0UL</td></tr>
<tr class="memdesc:gadeb55655269df8be713e86add9406510"><td class="mdescLeft">&#160;</td><td class="mdescRight">index buram to store the value <br /></td></tr>
<tr class="separator:gadeb55655269df8be713e86add9406510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37da65c8558c3e28ab897791329b49ea"><td class="memItemLeft" align="right" valign="top"><a id="ga37da65c8558c3e28ab897791329b49ea"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga37da65c8558c3e28ab897791329b49ea">SL_IEC60730_WDOG0_ENABLE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga37da65c8558c3e28ab897791329b49ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Watchdog 0. <br /></td></tr>
<tr class="separator:ga37da65c8558c3e28ab897791329b49ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae69b3dac3dc5beb77a34153a7849eb29"><td class="memItemLeft" align="right" valign="top"><a id="gae69b3dac3dc5beb77a34153a7849eb29"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gae69b3dac3dc5beb77a34153a7849eb29">SL_IEC60730_WDOG1_ENABLE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gae69b3dac3dc5beb77a34153a7849eb29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Watchdog 1. <br /></td></tr>
<tr class="separator:gae69b3dac3dc5beb77a34153a7849eb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadddf3a140cb0eb5c30cd8980eea66f69"><td class="memItemLeft" align="right" valign="top"><a id="gadddf3a140cb0eb5c30cd8980eea66f69"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gadddf3a140cb0eb5c30cd8980eea66f69">SL_IEC60730_SAVE_STAGE_ENABLE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gadddf3a140cb0eb5c30cd8980eea66f69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable saving iec60730_watchdog_state to backup RAM on Series 2. <br /></td></tr>
<tr class="separator:gadddf3a140cb0eb5c30cd8980eea66f69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb0b5eebea26b62635eb620bb057544e"><td class="memItemLeft" align="right" valign="top"><a id="gacb0b5eebea26b62635eb620bb057544e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gacb0b5eebea26b62635eb620bb057544e">SL_IEC60730_RSTCAUSES_CLEAR_ENABLE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:gacb0b5eebea26b62635eb620bb057544e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset cause flags in the RSTCASUES register. <br /></td></tr>
<tr class="separator:gacb0b5eebea26b62635eb620bb057544e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga26142284c1994fc918bb955c90098e86"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#ga26142284c1994fc918bb955c90098e86">sl_iec60730_test_watchdog_t</a> { <a class="el" href="group__IEC60730__WDOG__TEST.html#gga26142284c1994fc918bb955c90098e86ae77fbf11ab277cb1948111b28d9085a4">SL_IEC60730_WATCHDOG_INVALID</a> = 0, 
<a class="el" href="group__IEC60730__WDOG__TEST.html#gga26142284c1994fc918bb955c90098e86a918294e59342afe7b44f80711887fd8e">SL_IEC60730_WATCHDOG_TESTING</a> = 1, 
<a class="el" href="group__IEC60730__WDOG__TEST.html#gga26142284c1994fc918bb955c90098e86aaf2a03503e1eedd2897f6567810efa0c">SL_IEC60730_WATCHDOG_VALID</a> = 2
 }</td></tr>
<tr class="memdesc:ga26142284c1994fc918bb955c90098e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of watchdog testing.  <a href="group__IEC60730__WDOG__TEST.html#ga26142284c1994fc918bb955c90098e86">More...</a><br /></td></tr>
<tr class="separator:ga26142284c1994fc918bb955c90098e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa2798008fb8354e4ad4c2433eda014dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gaa2798008fb8354e4ad4c2433eda014dc">sl_iec60730_restart_watchdogs</a> (void)</td></tr>
<tr class="separator:gaa2798008fb8354e4ad4c2433eda014dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3dcfd7e75bfcfa1dda8cab8fc15f718"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__iec60730__post.html#gabbc6d6c18b9b696bfe4eb327f28fb47e">sl_iec60730_test_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gac3dcfd7e75bfcfa1dda8cab8fc15f718">sl_iec60730_watchdog_post</a> (void)</td></tr>
<tr class="separator:gac3dcfd7e75bfcfa1dda8cab8fc15f718"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaaa326ae436bf39a8bad59d182f0d2039"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="group__IEC60730__WDOG__TEST.html#ga26142284c1994fc918bb955c90098e86">sl_iec60730_test_watchdog_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__WDOG__TEST.html#gaaa326ae436bf39a8bad59d182f0d2039">iec60730_watchdog_state</a></td></tr>
<tr class="separator:gaaa326ae436bf39a8bad59d182f0d2039"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Monitors CPU execution. </p>
<p>For IEC60730, a watchdog timer must be enabled to validate proper operation of the Program Counter. A watchdog timer resets the device if it has not been restarted. </p>
<h1><a class="anchor" id="watchdog_hardware_architecture"></a>
Hardware Architecture</h1>
<p>The second implementation has a dedicated watchdog peripheral WDOG0, WDOG1 watchdog timers in the EFR32 family.</p>
<dl class="section warning"><dt>Warning</dt><dd>- The watchdog timer must be disabled during flash page erase.</dd></dl>
<h1><a class="anchor" id="watchdog_failure_risks"></a>
Failure Risks</h1>
<p>The watchdog timer will force entry into Safe State if the firmware program execution does not return to the BIST quick enough. This will detect a failure that causes the CPU to halt or enter an infinite loop. The watchdog timer POST verifies that a watchdog timer reset is possible.</p>
<p>OEMs must ensure that their system works reliably in all modes of operation using the watchdog timeout. Insufficient testing may allow for firmware states that inadvertently trigger a watchdog reset.</p>
<h1><a class="anchor" id="watchdog_software_architecture"></a>
Software Architecture</h1>
<p>For the EFR32 IEC60730 implementation, <a class="el" href="group__IEC60730__WDOG__TEST.html#watchdog_flowchart">Figure 1</a> shows the logic flow chart of the Watchdog Timer during POST. The POST test determines if the reset source was a power-on, and if so, validates that a watchdog reset can occur. If the reset source was a watchdog reset, it determines if the watchdog reset was expected as part of POST testing, or unexpected. An unexpected reset causes immediate <a class="el" href="group__IEC60730__SAFE__STATE.html#ga0872a3a2e0e8e6106f5bab1c5f4e708e">sl_iec60730_safe_state()</a> entry. Otherwise normal operation continues.</p>
<div class="image">
<img src="watchdog_flowchart.png" alt=""/>
<div class="caption">
Figure 1 Flow chart of watchdog timer POST validation</div></div>
<p><a class="anchor" id="watchdog_flowchart"></a> The main loop must execute <a class="el" href="group__sl__iec60730__bist.html#gaee7992c54f1a80fb090726d408c78a18">sl_iec60730_bist()</a> faster than the nominal timeout, or call <a class="el" href="group__IEC60730__WDOG__TEST.html#gaa2798008fb8354e4ad4c2433eda014dc">sl_iec60730_restart_watchdogs()</a>. After <a class="el" href="group__sl__iec60730__bist.html#gaee7992c54f1a80fb090726d408c78a18">sl_iec60730_bist()</a> has confirmed all modules are operating correctly it restarts the Watchdog Timer with <a class="el" href="group__IEC60730__WDOG__TEST.html#gaa2798008fb8354e4ad4c2433eda014dc">sl_iec60730_restart_watchdogs()</a>. If a module is not operating correctly, <a class="el" href="group__sl__iec60730__bist.html#gaee7992c54f1a80fb090726d408c78a18">sl_iec60730_bist()</a> calls <a class="el" href="group__IEC60730__SAFE__STATE.html#ga0872a3a2e0e8e6106f5bab1c5f4e708e">sl_iec60730_safe_state()</a>. <a class="el" href="group__IEC60730__SAFE__STATE.html#ga0872a3a2e0e8e6106f5bab1c5f4e708e">sl_iec60730_safe_state()</a> will call <a class="el" href="group__IEC60730__WDOG__TEST.html#gaa2798008fb8354e4ad4c2433eda014dc">sl_iec60730_restart_watchdogs()</a> continuously. The system must be powered down and restarted to resume normal operation.</p>
<p>The function <a class="el" href="group__IEC60730__WDOG__TEST.html#gac3dcfd7e75bfcfa1dda8cab8fc15f718">sl_iec60730_watchdog_post()</a> will set the timeout period (PERSEL) to minimum when check watchdog units to avoid wasting time.</p>
<h1><a class="anchor" id="watchdog_configuration"></a>
Software Configuration</h1>
<p>The number of watchdog units that are tested by lib is defined by config code by defining the macros "#SL_IEC60730_WDOGINST_NUMB" and <b>SL_IEC60730_WDOGx_ENABLE</b> (x = 0, 1). The number of Watchdog unit depends on target EFR32 series. Example for series 1:</p>
<ul>
<li>#define SL_IEC60730_WDOGINST_NUMB 1</li>
<li>#define SL_IEC60730_WDOG0_ENABLE 1</li>
</ul>
<p>User can define macro <a class="el" href="group__IEC60730__WDOG__TEST.html#gafeca59078e5fe3dd9f242d596f355833" title="Define gets the default value of watchdog(n).">SL_IEC60730_WDOG_INST(n)</a> to select appropriate <b>watchdog peripheral</b>. User can define macro <a class="el" href="group__IEC60730__WDOG__TEST.html#ga041a89d8894e0d74f0c6414f15781ebb" title="Hardware manages the reset cause of the device. With series 2 is EMU.">SL_IEC60730_RST</a> to select appropriate <b>reset peripheral</b>.</p>
<p>If these macros are not defined then the default configuration will be used.</p>
<p>To clear reset cause flags in the RSTCASUES register after watchdog testing completed -&gt; Enable the definition of macro <a class="el" href="group__IEC60730__WDOG__TEST.html#gacb0b5eebea26b62635eb620bb057544e" title="Reset cause flags in the RSTCASUES register.">SL_IEC60730_RSTCAUSES_CLEAR_ENABLE</a> on file <a class="el" href="sl__iec60730__config_8h.html" title="Library definitions.">sl_iec60730_config.h</a>. By default this feature is disabled.</p>
<p>If the Watchdog module is build in secure mode then the macro must not be defined <b>SL_IEC60730_NON_SECURE_ENABLE</b> and defined <b>SL_TRUSTZONE_SECURE</b> to enable the lib using secure address of the <b>watchdog peripheral</b>.</p>
<dl class="section warning"><dt>Warning</dt><dd><ul>
<li>The static variable <b>iec60730_watchdog_count</b> must be located at memory location that is not cleared when system startup (section ".ram_no_clear").</li>
<li>The global variable <a class="el" href="group__IEC60730__WDOG__TEST.html#gaaa326ae436bf39a8bad59d182f0d2039">iec60730_watchdog_state</a> must be located at memory location that is not cleared when system startup. And it should be located at section ram_no_clear in RAM block that is available on EFR32 Series 1 devices (section ".ram_no_clear"). This will avoid the missing contain of the variable when device returns from the power saving mode EM4.</li>
</ul>
</dd></dl>
<p>On EFR32 Series 2 devices, they have backup RAM (BURAM) that could be used to save value of the variable. To enable saving <a class="el" href="group__IEC60730__WDOG__TEST.html#gaaa326ae436bf39a8bad59d182f0d2039">iec60730_watchdog_state</a> to backup RAM on Series 2, enable the macro <a class="el" href="group__IEC60730__WDOG__TEST.html#gadddf3a140cb0eb5c30cd8980eea66f69" title="Enable saving iec60730_watchdog_state to backup RAM on Series 2.">SL_IEC60730_SAVE_STAGE_ENABLE</a> on file <b><a class="el" href="sl__iec60730__config_8h.html" title="Library definitions.">sl_iec60730_config.h</a></b>. By default it will be disabled. Define macro <a class="el" href="group__IEC60730__WDOG__TEST.html#gadeb55655269df8be713e86add9406510" title="index buram to store the value">SL_IEC60730_BURAM_IDX</a> to select which register of the BURAM will be used. The default value is 0x0. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga26142284c1994fc918bb955c90098e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26142284c1994fc918bb955c90098e86">&#9670;&nbsp;</a></span>sl_iec60730_test_watchdog_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__IEC60730__WDOG__TEST.html#ga26142284c1994fc918bb955c90098e86">sl_iec60730_test_watchdog_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State of watchdog testing. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga26142284c1994fc918bb955c90098e86ae77fbf11ab277cb1948111b28d9085a4"></a>SL_IEC60730_WATCHDOG_INVALID&#160;</td><td class="fielddoc"><p>Watchdog POST test not done. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26142284c1994fc918bb955c90098e86a918294e59342afe7b44f80711887fd8e"></a>SL_IEC60730_WATCHDOG_TESTING&#160;</td><td class="fielddoc"><p>Watchdog POST testing in progress. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26142284c1994fc918bb955c90098e86aaf2a03503e1eedd2897f6567810efa0c"></a>SL_IEC60730_WATCHDOG_VALID&#160;</td><td class="fielddoc"><p>Watchdog POST test complete, watchdog valid. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa2798008fb8354e4ad4c2433eda014dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2798008fb8354e4ad4c2433eda014dc">&#9670;&nbsp;</a></span>sl_iec60730_restart_watchdogs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sl_iec60730_restart_watchdogs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>public IEC60730 Watchdog Restart</p>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>This function abstracts the differences between the EFR32 family watchdog timers. OEMs can call it during long duration executions to restart the watchdog timer. </p>

</div>
</div>
<a id="gac3dcfd7e75bfcfa1dda8cab8fc15f718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac3dcfd7e75bfcfa1dda8cab8fc15f718">&#9670;&nbsp;</a></span>sl_iec60730_watchdog_post()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__iec60730__post.html#gabbc6d6c18b9b696bfe4eb327f28fb47e">sl_iec60730_test_result_t</a> sl_iec60730_watchdog_post </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>public IEC60730 Watchdog Power On Self Test</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sl__iec60730__post.html#gabbc6d6c18b9b696bfe4eb327f28fb47e" title="The result of a test.">sl_iec60730_test_result_t</a> If a non-watchdog reset occurred, test watchdog (will not return). Otherwise determine if watchdog reset was planned or unplanned. Unplanned watchdog resets result in failure and entry to Safe State. Planned watchdog resets return <a class="el" href="group__sl__iec60730__post.html#ggabbc6d6c18b9b696bfe4eb327f28fb47ea61682a1e69b9b0cbdecbe0d11d14945e" title="test result passed">SL_IEC60730_TEST_PASSED</a>.</dd></dl>
<p>This function will test the watchdog timer by forcing a watchdog reset on the first power-up. Any subsequent watchdog reset forces entry into <a class="el" href="group__IEC60730__SAFE__STATE.html#ga0872a3a2e0e8e6106f5bab1c5f4e708e">sl_iec60730_safe_state()</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>Remove all accesses to Watchdog Timer hardware from <b>init device</b>. Reset state of pins must be safe for the device. During POST test, device pins will be kept in reset state while validating watchdog reset. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gaaa326ae436bf39a8bad59d182f0d2039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa326ae436bf39a8bad59d182f0d2039">&#9670;&nbsp;</a></span>iec60730_watchdog_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="group__IEC60730__WDOG__TEST.html#ga26142284c1994fc918bb955c90098e86">sl_iec60730_test_watchdog_t</a> iec60730_watchdog_state</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global variable used to track watchdog testing state.</p>
<dl class="section warning"><dt>Warning</dt><dd>Must be placed in a memory area not cleared to 0x0 on start! </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
