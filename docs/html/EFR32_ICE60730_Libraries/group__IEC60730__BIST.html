<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IEC_60730: BIST</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IEC_60730
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">BIST<div class="ingroups"><a class="el" href="group__efr32__sl_iec60730.html">EFR32 IEC60730 Library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Built In Self Test - Executed periodically.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for BIST:</div>
<div class="dyncontent">
<div class="center"><img src="group__IEC60730__BIST.png" border="0" usemap="#group____IEC60730____BIST" alt=""/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga504ca12159a1d0912ae560bf7ad61154"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__BIST.html#ga504ca12159a1d0912ae560bf7ad61154">SI_SEGMENT_VARIABLE</a> (iec60730_SafetyCheck, <a class="el" href="group__IEC60730__POST.html#gab423b676af8982b70e767164f1574023">iec60730_TestFailure_t</a>, SI_SEG_DATA)</td></tr>
<tr class="separator:ga504ca12159a1d0912ae560bf7ad61154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e25e3bbfafc3679a262b9834dc08c0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IEC60730__BIST.html#ga2e25e3bbfafc3679a262b9834dc08c0c">iec60730_Bist</a> (void)</td></tr>
<tr class="separator:ga2e25e3bbfafc3679a262b9834dc08c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Built In Self Test - Executed periodically. </p>
<p><a class="el" href="group__IEC60730__BIST.html#ga2e25e3bbfafc3679a262b9834dc08c0c">iec60730_Bist()</a> confirms correct operation of the device during main loop execution. If a module validation fails, <a class="el" href="group__IEC60730__SAFE__STATE.html#gaf28ccd1df36222150296fbfe62ace9cf">iec60730_SafeState()</a> is called.</p>
<p>Longer functions such as variable and non-variable memory checks have critical sections that disable interrupts. To minimize disruption to interrupt service routines, these functions break up validation into smaller pieces. This allows pending interrupts to be serviced while validating.</p>
<p>OEM code must set #iec60730_SafetyCheck to one of the failure conditions in <a class="el" href="group__IEC60730__POST.html#gab423b676af8982b70e767164f1574023" title="Cause of failure passed to Safe State function.">iec60730_TestFailure_t</a> if the code determines a failure has occurred. This can be used for communications channels or to trigger SafeState entry due to a failure within an interrupt.</p>
<p>The validation time for the full memory varies between devices depending on the size of memory available, and how frequent <a class="el" href="group__IEC60730__BIST.html#ga2e25e3bbfafc3679a262b9834dc08c0c">iec60730_Bist()</a> is called by the main loop. For details see <a class="el" href="group__efr32__sl_iec60730.html#bist_frequency">BIST call frequency</a>.</p>
<p>Periodic BIST execution is shown in <a class="el" href="group__IEC60730__BIST.html#bist_flowchart">Figure 1</a></p>
<p><a class="anchor" id="bist_flowchart"></a></p><div class="image">
<img src="BIST_flowchart.png" alt=""/>
<div class="caption">
Figure 1 Flow chart of Periodic BIST execution</div></div>
 <h2 class="groupheader">Function Documentation</h2>
<a id="ga2e25e3bbfafc3679a262b9834dc08c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e25e3bbfafc3679a262b9834dc08c0c">&#9670;&nbsp;</a></span>iec60730_Bist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iec60730_Bist </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>public IEC60730 Built In Self Test</p>
<dl class="section return"><dt>Returns</dt><dd>None. If validation fails function never returns. If validation passes, function returns.</dd></dl>
<p>Each module is tested, and if a failure is detected <a class="el" href="group__IEC60730__SAFE__STATE.html#gaf28ccd1df36222150296fbfe62ace9cf">iec60730_SafeState()</a> is called. If a test failure occurs outside this function (such as comms), set #iec60730_SafetyCheck to <a class="el" href="group__IEC60730__POST.html#gga15a78a582ee2ef5999615f3a64d26741a26db973cd4fdebd964685ce701486450" title="test result failed">iec60730_TestFailed</a>. </p>

</div>
</div>
<a id="ga504ca12159a1d0912ae560bf7ad61154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga504ca12159a1d0912ae560bf7ad61154">&#9670;&nbsp;</a></span>SI_SEGMENT_VARIABLE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SI_SEGMENT_VARIABLE </td>
          <td>(</td>
          <td class="paramtype">iec60730_SafetyCheck&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__IEC60730__POST.html#gab423b676af8982b70e767164f1574023">iec60730_TestFailure_t</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SI_SEG_DATA&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global variable used by OEM and interrupt check functions to relay status to IEC60730 safety code. When a failure is detected, set #iec60730_SafetyCheck to <a class="el" href="group__IEC60730__POST.html#gga15a78a582ee2ef5999615f3a64d26741a26db973cd4fdebd964685ce701486450" title="test result failed">iec60730_TestFailed</a>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
